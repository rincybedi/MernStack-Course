{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/SignIn.js","components/screens/SignUp.js","components/screens/Profile.js","components/screens/CreatePost.js","components/screens/UserProfile.js","components/screens/SubUserPost.js","reducers/userReducer.js","App.js","serviceWorker.js","index.js"],"names":["NavBar","useContext","UserContext","state","dispatch","history","useHistory","className","to","id","src","pic","onClick","localStorage","clear","type","push","Home","useState","data","setData","useEffect","fetch","headers","Authorization","getItem","then","res","json","result","console","log","posts","map","item","key","_id","postedBy","style","float","postId","method","newData","filter","d","catch","err","name","photo","color","likes","includes","body","JSON","stringify","length","title","comments","response","commentId","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","SignIn","email","setEmail","password","setPassword","onChange","test","error","M","toast","html","classes","setItem","token","user","payload","SignUp","setName","image","setImage","undefined","url","setUrl","postFields","message","PostData","FormData","append","uploadPic","files","Profile","mypics","setMyPics","myposts","updatePicInner","maxWidth","margin","padding","borderBottom","display","justifyContent","width","height","borderRadius","following","followers","file","alt","CreatePost","setTitle","setBody","historyState","textAlign","PostDetails","userProfile","setProfile","userid","useParams","showFollow","setShowFollow","followId","prevState","unfollowId","i","MyFollowingPost","reducer","action","createContext","Routing","parse","exact","path","UserProfile","SubUserPost","App","useReducer","Provider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a676c9a1.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\nconst NavBar = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n  const renderList = () => {\r\n    if (state) {\r\n      return [\r\n        <li>\r\n          <Link to=\"/profile\">\r\n            <img className=\"user-img\" src={state ? state.pic : \"\"}></img>\r\n          </Link>\r\n        </li>,\r\n        <li>\r\n          <Link to=\"/create\">Create Post</Link>\r\n        </li>,\r\n        <li>\r\n          <Link to=\"/myfollowingpost\">My following Post</Link>\r\n        </li>,\r\n        <li>\r\n          <button\r\n            className=\"waves-effect waves-light btn-large #42a5f5 blue lighten-1\"\r\n            onClick={() => {\r\n              localStorage.clear();\r\n              dispatch({ type: \"CLEAR\" });\r\n              history.push(\"/signin\");\r\n            }}\r\n          >\r\n            Sign Out\r\n          </button>\r\n        </li>,\r\n      ];\r\n    } else {\r\n      return [\r\n        <li>\r\n          <Link to=\"/signin\">Sign In</Link>\r\n        </li>,\r\n        <li>\r\n          <Link to=\"/signup\">SignUp</Link>\r\n        </li>,\r\n      ];\r\n    }\r\n  };\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper\">\r\n        <Link to={state ? \"/\" : \"/signin\"} className=\"brand-logo left\">\r\n          Instagram\r\n        </Link>\r\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n          {renderList()}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\nimport { ProgressBar } from \"./ProgressBar\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  const likePost = (id) => {\r\n    fetch(\"/like\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        // console.log(data);\r\n        const newData = data.map((item) => {\r\n          if (item._id == result._id) {\r\n            console.log(result);\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unLikePost = (id) => {\r\n    fetch(\"/unlike\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id == result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const makeComment = (text, postId) => {\r\n    fetch(\"/comment\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId,\r\n        text,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id == result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postId) => {\r\n    fetch(`/deletepost/${postId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = data.filter((d) => d._id != result._id);\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (postId, commentId) => {\r\n    fetch(`/deletecomment`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ postId, commentId }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = data.filter((d) => d._id != result._id);\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(\"/allposts\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n  return (\r\n    <div className=\"home=\">\r\n      {data.map((item) => {\r\n        return (\r\n          <div className=\"card home-card\" key={item._id}>\r\n            {item.postedBy._id == state._id && (\r\n              <i\r\n                className=\"material-icons\"\r\n                style={{ float: \"right\" }}\r\n                onClick={() => {\r\n                  deletePost(item._id);\r\n                }}\r\n              >\r\n                delete\r\n              </i>\r\n            )}\r\n            <h5>\r\n              <img className=\"user-img\" src={item.postedBy.pic}></img>\r\n              <Link\r\n                className=\"each-post-postedBy\"\r\n                to={\r\n                  item.postedBy._id !== state._id\r\n                    ? \"/profile/\" + item.postedBy._id\r\n                    : \"/profile\"\r\n                }\r\n              >\r\n                {item.postedBy.name}\r\n              </Link>\r\n            </h5>\r\n\r\n            <div className=\"card-image\">\r\n              <img src={item.photo}></img>\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <i className=\"material-icons\" style={{ color: \"red\" }}>\r\n                favorite\r\n              </i>\r\n              {item.likes.includes(state._id) ? (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  onClick={() => {\r\n                    unLikePost(item._id);\r\n                  }}\r\n                >\r\n                  thumb_down\r\n                </i>\r\n              ) : (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  onClick={() => {\r\n                    likePost(item._id);\r\n                  }}\r\n                >\r\n                  thumb_up\r\n                </i>\r\n              )}\r\n\r\n              <h6>{item.likes.length} likes</h6>\r\n              <h6>{item.title}</h6>\r\n              <p>{item.body}</p>\r\n              {item.comments.map((response) => {\r\n                return (\r\n                  <h6 key={response._id}>\r\n                    {response.postedBy._id == state._id && (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          deleteComment(item._id, response._id);\r\n                        }}\r\n                      >\r\n                        delete\r\n                      </i>\r\n                    )}\r\n                    <span style={{ fontWeight: \"500\" }}>\r\n                      {response.postedBy.name}\r\n                    </span>\r\n                    <span> {response.text}</span>\r\n                  </h6>\r\n                );\r\n              })}\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                  makeComment(e.target[0].value, item._id);\r\n                  e.target[0].value = \"\";\r\n                }}\r\n              >\r\n                <input type=\"text\" placeholder=\"Add comment\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../../App\";\r\nimport M from \"materialize-css\";\r\n\r\nconst SignIn = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const PostData = () => {\r\n    if (\r\n      !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n        email\r\n      )\r\n    ) {\r\n      M.toast({\r\n        html: \"Please enter a valid email id\",\r\n        classes: \"#e53935 red darken-1\",\r\n      });\r\n      return;\r\n    }\r\n    fetch(\"/signin\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: \"#e53935 red darken-1\" });\r\n        } else {\r\n          localStorage.setItem(\"jwt\", data.token);\r\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n          dispatch({ type: \"USER\", payload: data.user });\r\n          M.toast({ html: \"Signed in successfully\", classes: \"#4caf50 green\" });\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"my-card\">\r\n      <div className=\"card auth-card input-field\">\r\n        <h2>Instagram</h2>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => {\r\n            setEmail(e.target.value);\r\n          }}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => {\r\n            setPassword(e.target.value);\r\n          }}\r\n        />\r\n        <button\r\n          className=\"waves-effect waves-light btn-large #42a5f5 blue lighten-1\"\r\n          onClick={() => {\r\n            PostData();\r\n          }}\r\n        >\r\n          Sign In\r\n        </button>\r\n        <h5>\r\n          <Link to=\"signup\">Dont have an account ?</Link>\r\n        </h5>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport M from \"materialize-css\";\r\nconst SignUp = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [url, setUrl] = useState(undefined);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    if (url) {\r\n      postFields();\r\n    }\r\n  }, [url]);\r\n\r\n  const uploadPic = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"rinalshcloud\");\r\n\r\n    fetch(\"https://api.cloudinary.com/v1_1/rinalshcloud/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.url);\r\n        console.log(data);\r\n      })\r\n      .catch((data) => {\r\n        console.log(data);\r\n      });\r\n  };\r\n\r\n  const postFields = () => {\r\n    if (\r\n      !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n        email\r\n      )\r\n    ) {\r\n      M.toast({\r\n        html: \"Please enter a valid email id\",\r\n        classes: \"#e53935 red darken-1\",\r\n      });\r\n      return;\r\n    }\r\n    fetch(\"/signup\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        email,\r\n        password,\r\n        pic: url,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: \"#e53935 red darken-1\" });\r\n        } else {\r\n          M.toast({ html: data.message, classes: \"#4caf50 green\" });\r\n          history.push(\"/signin\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const PostData = () => {\r\n    if (image) {\r\n      uploadPic();\r\n    } else {\r\n      postFields();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"my-card\">\r\n      <div className=\"card auth-card input-field\">\r\n        <h2>Instagram</h2>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n          onChange={(e) => {\r\n            setName(e.target.value);\r\n          }}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => {\r\n            setEmail(e.target.value);\r\n          }}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => {\r\n            setPassword(e.target.value);\r\n          }}\r\n        />\r\n        <div className=\"file-field input-field\">\r\n          <div className=\"waves-effect waves-light btn-large #42a5f5 blue lighten-1\">\r\n            <span>Upload Pic</span>\r\n            <input\r\n              type=\"file\"\r\n              onChange={(e) => {\r\n                console.log(e.target.files);\r\n                setImage(e.target.files[0]);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={() => PostData()}\r\n          className=\"waves-effect waves-light btn-large #42a5f5 blue lighten-1\"\r\n        >\r\n          Sign Up\r\n        </button>\r\n        <h5>\r\n          <Link to=\"signin\">Already have an account ?</Link>\r\n        </h5>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\n\r\nconst Profile = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [mypics, setMyPics] = useState([]);\r\n  const [image, setImage] = useState(\"\");\r\n  useEffect(() => {\r\n    fetch(\"/myposts\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data.myposts);\r\n        setMyPics(data.myposts);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"rinalshcloud\");\r\n\r\n      fetch(\"https://api.cloudinary.com/v1_1/rinalshcloud/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          updatePicInner(data.url);\r\n        })\r\n        .catch((data) => {\r\n          console.log(data);\r\n        });\r\n    }\r\n  }, [image]);\r\n\r\n  const updatePicInner = (url) => {\r\n    fetch(\"updatepic\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ pic: url }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        localStorage.setItem(\r\n          \"user\",\r\n          JSON.stringify({ pic: data.pic, ...state })\r\n        );\r\n        dispatch({ type: \"UPDATEPIC\", payload: data.pic });\r\n        console.log(data);\r\n      });\r\n  };\r\n\r\n  const updatePhoto = (file) => {\r\n    console.log(file);\r\n    setImage(file);\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"550px\", margin: \"0 auto\" }}>\r\n      <div\r\n        style={{\r\n          padding: \"16px 0\",\r\n          borderBottom: \"1px solid grey\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-around\",\r\n          }}\r\n        >\r\n          <div>\r\n            <img\r\n              src={state ? state.pic : \"loading\"}\r\n              style={{ width: \"160px\", height: \"160px\", borderRadius: \"80px\" }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <h4>{state ? state.name : \"loading\"}</h4>\r\n            <h4>{state ? state.email : \"loading\"}</h4>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                width: \"117%\",\r\n              }}\r\n            >\r\n              <h5>{mypics.length} posts</h5>\r\n              <h5>{state ? state.following.length : 0} following</h5>\r\n              <h5>{state ? state.followers.length : 0} followers</h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"file-field input-field\">\r\n          <div className=\"waves-effect waves-light btn-large #42a5f5 blue lighten-1\">\r\n            <span>Update Pic</span>\r\n            <input\r\n              type=\"file\"\r\n              onChange={(e) => {\r\n                updatePhoto(e.target.files[0]);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"gallery\">\r\n        {mypics.map((item) => {\r\n          return <img className=\"item\" src={item.photo} alt={item.title} />;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport M from \"materialize-css\";\r\n\r\nconst CreatePost = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n  const historyState = useHistory();\r\n  useEffect(() => {\r\n    if (url) {\r\n      CreatePost();\r\n    }\r\n  }, [url]);\r\n\r\n  const PostDetails = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"rinalshcloud\");\r\n\r\n    fetch(\"https://api.cloudinary.com/v1_1/rinalshcloud/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.url);\r\n        console.log(data);\r\n      })\r\n      .catch((data) => {\r\n        console.log(data);\r\n      });\r\n  };\r\n\r\n  const CreatePost = () => {\r\n    fetch(\"/createpost\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        pic: url,\r\n        title,\r\n        body,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: \"#e53935 red darken-1\" });\r\n        } else {\r\n          console.log(data);\r\n          M.toast({\r\n            html: \"Post created successfully\",\r\n            classes: \"#4caf50 green\",\r\n          });\r\n          historyState.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"card input-field\"\r\n      style={{\r\n        margin: \"10px auto\",\r\n        maxWidth: \"500px\",\r\n        padding: \"10px\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"title\"\r\n        value={title}\r\n        onChange={(e) => {\r\n          setTitle(e.target.value);\r\n        }}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"body\"\r\n        value={body}\r\n        onChange={(e) => {\r\n          setBody(e.target.value);\r\n        }}\r\n      />\r\n      <div className=\"file-field input-field\">\r\n        <div className=\"waves-effect waves-light btn-large #42a5f5 blue lighten-1\">\r\n          <span>Upload image</span>\r\n          <input\r\n            type=\"file\"\r\n            onChange={(e) => {\r\n              console.log(e.target.files);\r\n              setImage(e.target.files[0]);\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"file-path-wrapper\">\r\n          <input className=\"file-path validate\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <button\r\n        onClick={() => {\r\n          PostDetails();\r\n        }}\r\n        className=\"waves-effect waves-light btn-large #42a5f5 blue lighten-1\"\r\n      >\r\n        Create post\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst Profile = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [userProfile, setProfile] = useState(null);\r\n  const { userid } = useParams();\r\n\r\n  const [showFollow, setShowFollow] = useState(\r\n    state ? !state.followers.includes(userid) : true\r\n  );\r\n  const followUser = () => {\r\n    fetch(\"/follow\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        followId: userid,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        dispatch({\r\n          type: \"UPDATE\",\r\n          payload: {\r\n            following: data.following,\r\n            followers: data.followers,\r\n          },\r\n        });\r\n        localStorage.setItem(\"user\", JSON.stringify(data));\r\n        setProfile((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            user: {\r\n              ...prevState.user,\r\n              followers: [...prevState.user.followers, data._id],\r\n            },\r\n          };\r\n        });\r\n        setShowFollow(false);\r\n      });\r\n  };\r\n\r\n  const unfollowUser = () => {\r\n    fetch(\"/unfollow\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        unfollowId: userid,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        dispatch({\r\n          type: \"UPDATE\",\r\n          payload: {\r\n            following: data.following,\r\n            followers: data.followers,\r\n          },\r\n        });\r\n        localStorage.setItem(\"user\", JSON.stringify(data));\r\n        setProfile((prevState) => {\r\n          const followers = prevState.user.followers.filter(\r\n            (i) => i != data._id\r\n          );\r\n          return {\r\n            ...prevState,\r\n            user: {\r\n              ...prevState.user,\r\n              followers: followers,\r\n            },\r\n          };\r\n        });\r\n        setShowFollow(true);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(`/user/${userid}`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setProfile(data);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {!userProfile ? (\r\n        <h2>Loading..</h2>\r\n      ) : (\r\n        <div style={{ maxWidth: \"550px\", margin: \"0 auto\" }}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-around\",\r\n              padding: \"16px 0\",\r\n              borderBottom: \"1px solid grey\",\r\n            }}\r\n          >\r\n            <div>\r\n              <img\r\n                src={userProfile.user.pic}\r\n                style={{\r\n                  width: \"160px\",\r\n                  height: \"160px\",\r\n                  borderRadius: \"80px\",\r\n                }}\r\n              />\r\n            </div>\r\n            <div>\r\n              <h4>{userProfile.user.name}</h4>\r\n              <h5>{userProfile.user.email}</h5>\r\n              {showFollow ? (\r\n                <button\r\n                  className=\"waves-effect waves-light btn-large #42a5f5 blue lighten-1\"\r\n                  onClick={() => {\r\n                    followUser();\r\n                  }}\r\n                >\r\n                  Follow\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  className=\"waves-effect waves-light btn-large #42a5f5 blue lighten-1\"\r\n                  onClick={() => {\r\n                    unfollowUser();\r\n                  }}\r\n                >\r\n                  Unfollow\r\n                </button>\r\n              )}\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  width: \"117%\",\r\n                }}\r\n              >\r\n                <h5>{userProfile.posts.length} posts</h5>\r\n                <h5>{userProfile.user.following.length} following</h5>\r\n                <h5>{userProfile.user.followers.length} followers</h5>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"gallery\">\r\n            {userProfile.posts.map((item) => {\r\n              return <img className=\"item\" src={item.photo} alt={item.title} />;\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\nimport { ProgressBar } from \"./ProgressBar\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst MyFollowingPost = () => {\r\n  const [data, setData] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  const likePost = (id) => {\r\n    fetch(\"/like\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        // console.log(data);\r\n        const newData = data.map((item) => {\r\n          if (item._id == result._id) {\r\n            console.log(result);\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unLikePost = (id) => {\r\n    fetch(\"/unlike\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id == result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const makeComment = (text, postId) => {\r\n    fetch(\"/comment\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId,\r\n        text,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id == result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postId) => {\r\n    fetch(`/deletepost/${postId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = data.filter((d) => d._id != result._id);\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (postId, commentId) => {\r\n    fetch(`/deletecomment`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ postId, commentId }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = data.filter((d) => d._id != result._id);\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(\"/getsubposts\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n  return (\r\n    <div className=\"home=\">\r\n      {data.map((item) => {\r\n        return (\r\n          <div className=\"card home-card\" key={item._id}>\r\n            {item.postedBy._id == state._id && (\r\n              <i\r\n                className=\"material-icons\"\r\n                style={{ float: \"right\" }}\r\n                onClick={() => {\r\n                  deletePost(item._id);\r\n                }}\r\n              >\r\n                delete\r\n              </i>\r\n            )}\r\n            <h5>\r\n              <Link\r\n                className=\"each-post-postedBy\"\r\n                to={\r\n                  item.postedBy._id !== state._id\r\n                    ? \"/profile/\" + item.postedBy._id\r\n                    : \"/profile\"\r\n                }\r\n              >\r\n                {item.postedBy.name}\r\n              </Link>\r\n            </h5>\r\n\r\n            <div className=\"card-image\">\r\n              <img src={item.photo}></img>\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <i className=\"material-icons\" style={{ color: \"red\" }}>\r\n                favorite\r\n              </i>\r\n              {item.likes.includes(state._id) ? (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  onClick={() => {\r\n                    unLikePost(item._id);\r\n                  }}\r\n                >\r\n                  thumb_down\r\n                </i>\r\n              ) : (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  onClick={() => {\r\n                    likePost(item._id);\r\n                  }}\r\n                >\r\n                  thumb_up\r\n                </i>\r\n              )}\r\n\r\n              <h6>{item.likes.length} likes</h6>\r\n              <h6>{item.title}</h6>\r\n              <p>{item.body}</p>\r\n              {item.comments.map((response) => {\r\n                return (\r\n                  <h6 key={response._id}>\r\n                    {response.postedBy._id == state._id && (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          deleteComment(item._id, response._id);\r\n                        }}\r\n                      >\r\n                        delete\r\n                      </i>\r\n                    )}\r\n                    <span style={{ fontWeight: \"500\" }}>\r\n                      {response.postedBy.name}\r\n                    </span>\r\n                    <span> {response.text}</span>\r\n                  </h6>\r\n                );\r\n              })}\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                  makeComment(e.target[0].value, item._id);\r\n                  e.target[0].value = \"\";\r\n                }}\r\n              >\r\n                <input type=\"text\" placeholder=\"Add comment\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyFollowingPost;\r\n","export const initialState = null;\r\n\r\nexport const reducer = (state, action) => {\r\n  if (action.type == \"USER\") {\r\n    return action.payload;\r\n  }\r\n  if (action.type == \"CLEAR\") {\r\n    return null;\r\n  }\r\n\r\n  if (action.type == \"UPDATE\") {\r\n    return {\r\n      ...state,\r\n      followers: action.payload.followers,\r\n      following: action.payload.following,\r\n    };\r\n  }\r\n\r\n  if (action.type == \"UPDATEPIC\") {\r\n    return {\r\n      ...state,\r\n      pic: action.payload,\r\n    };\r\n  }\r\n  return state;\r\n};\r\n","import React, { useEffect, createContext, useReducer, useContext } from \"react\";\nimport NavBar from \"./components/Navbar\";\nimport \"./App.css\";\nimport {\n  BrowserRouter,\n  Router,\n  Route,\n  Switch,\n  useHistory,\n} from \"react-router-dom\";\nimport Home from \"./components/screens/Home\";\nimport SignIn from \"./components/screens/SignIn\";\nimport SignUp from \"./components/screens/SignUp\";\nimport Profile from \"./components/screens/Profile\";\nimport CreatePost from \"./components/screens/CreatePost\";\nimport UserProfile from \"./components/screens/UserProfile\";\nimport SubUserPost from \"./components/screens/SubUserPost\";\nimport { reducer, initialState } from \"./reducers/userReducer\";\n\nexport const UserContext = createContext();\n\nconst Routing = () => {\n  const history = useHistory();\n  const { state, dispatch } = useContext(UserContext);\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      dispatch({ type: \"USER\", payload: user });\n    } else {\n      history.push(\"/signin\");\n    }\n  }, []);\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n      <Route path=\"/signin\">\n        <SignIn />\n      </Route>\n      <Route path=\"/signup\">\n        <SignUp />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/create\">\n        <CreatePost />\n      </Route>\n      <Route path=\"/profile/:userid\">\n        <UserProfile />\n      </Route>\n      <Route path=\"/myfollowingpost\">\n        <SubUserPost />\n      </Route>\n    </Switch>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <BrowserRouter>\n        <NavBar />\n        <Routing></Routing>\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}